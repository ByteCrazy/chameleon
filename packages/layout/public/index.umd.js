(function(_,x){typeof exports=="object"&&typeof module<"u"?x(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],x):(_=typeof globalThis<"u"?globalThis:_||self,x(_.CRender={},_.React,_.ReactDOM))})(this,function(_,x,nt){"use strict";var fl=Object.defineProperty;var dl=(_,x,nt)=>x in _?fl(_,x,{enumerable:!0,configurable:!0,writable:!0,value:nt}):_[x]=nt;var O=(_,x,nt)=>(dl(_,typeof x!="symbol"?x+"":x,nt),nt);const ur=t=>t&&typeof t=="object"&&"default"in t?t:{default:t};function lr(t){if(t&&t.__esModule)return t;const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:()=>t[n]})}}return e.default=t,Object.freeze(e)}const z=ur(x),fr=lr(nt),dr=t=>()=>{console.warn(`${t} need to be implement getComponent`)},pr=["customPageRootRender"],De=["pageRender","render","convertModelToComponent","getComponent","getContext","getUtils","getDataLink","createDataLink","transformProps","transformData","transformGlobalData","errorCatch"],$e=t=>[...De,...pr].reduce((n,r)=>{var o;return t!=null&&t[r]?n[r]=(o=t[r])==null?void 0:o.bind(t):De.includes(r)&&(n[r]=dr),n},{});var hr=Object.defineProperty,vr=(t,e,n)=>e in t?hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b=(t,e,n)=>(vr(t,typeof e!="symbol"?e+"":e,n),n);class Ie extends TypeError{constructor(e,n){let r;const{message:o,...a}=e,{path:s}=e,i=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(i),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...n()]}}}function yr(t){return G(t)&&typeof t[Symbol.iterator]=="function"}function G(t){return typeof t=="object"&&t!=null}function I(t){return typeof t=="string"?JSON.stringify(t):""+t}function mr(t){const{done:e,value:n}=t.next();return e?void 0:n}function br(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:a}=e,{type:s}=n,{refinement:i,message:c="Expected a value of type `"+s+"`"+(i?" with refinement `"+i+"`":"")+", but received: `"+I(r)+"`"}=t;return{value:r,type:s,refinement:i,key:o[o.length-1],path:o,branch:a,...t,message:c}}function*ke(t,e,n,r){yr(t)||(t=[t]);for(const o of t){const a=br(o,e,n,r);a&&(yield a)}}function*Vt(t,e,n){n===void 0&&(n={});const{path:r=[],branch:o=[t],coerce:a=!1,mask:s=!1}=n,i={path:r,branch:o};if(a&&(t=e.coercer(t,i),s&&e.type!=="type"&&G(e.schema)&&G(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,i))c="not_valid",yield[u,void 0];for(let[u,f,p]of e.entries(t,i)){const l=Vt(f,p,{path:u===void 0?r:[...r,u],branch:u===void 0?o:[...o,f],coerce:a,mask:s});for(const h of l)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):a&&(f=h[1],u===void 0?t=f:t instanceof Map?t.set(u,f):t instanceof Set?t.add(f):G(t)&&(t[u]=f))}if(c!=="not_valid")for(const u of e.refiner(t,i))c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class V{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:n,schema:r,validator:o,refiner:a,coercer:s=c=>c,entries:i=function*(){}}=e;this.type=n,this.schema=r,this.entries=i,this.coercer=s,o?this.validator=(c,u)=>{const f=o(c,u);return ke(f,u,this,c)}:this.validator=()=>[],a?this.refiner=(c,u)=>{const f=a(c,u);return ke(f,u,this,c)}:this.refiner=()=>[]}assert(e){return Fe(e,this)}create(e){return gr(e,this)}is(e){return _r(e,this)}mask(e){return jr(e,this)}validate(e,n){return n===void 0&&(n={}),ut(e,this,n)}}function Fe(t,e){const n=ut(t,e);if(n[0])throw n[0]}function gr(t,e){const n=ut(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function jr(t,e){const n=ut(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}function _r(t,e){return!ut(t,e)[0]}function ut(t,e,n){n===void 0&&(n={});const r=Vt(t,e,n),o=mr(r);if(o[0])return[new Ie(o[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0];{const a=o[1];return[void 0,a]}}function Le(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const r=e[0].type==="type",o=e.map(s=>s.schema),a=Object.assign({},...o);return r?ze(a):w(a)}function Z(t,e){return new V({type:t,schema:null,validator:e})}function lt(t){return new V({type:"dynamic",schema:null,*entries(e,n){yield*t(e,n).entries(e,n)},validator(e,n){return t(e,n).validator(e,n)},coercer(e,n){return t(e,n).coercer(e,n)},refiner(e,n){return t(e,n).refiner(e,n)}})}function Be(t,e){const{schema:n}=t,r={...n};for(const o of e)delete r[o];switch(t.type){case"type":return ze(r);default:return w(r)}}function W(){return Z("any",()=>!0)}function D(t){return new V({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+I(e)}})}function Q(){return Z("boolean",t=>typeof t=="boolean")}function Wt(t){const e={},n=t.map(r=>I(r)).join();for(const r of t)e[r]=r;return new V({type:"enums",schema:e,validator(r){return t.includes(r)||"Expected one of `"+n+"`, but received: "+I(r)}})}function Ge(){return Z("func",t=>typeof t=="function"||"Expected a function, but received: "+I(t))}function k(t){const e=I(t),n=typeof t;return new V({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||"Expected the literal `"+e+"`, but received: "+I(r)}})}function wr(){return Z("never",()=>!1)}function Ue(){return Z("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+I(t))}function w(t){const e=t?Object.keys(t):[],n=wr();return new V({type:"object",schema:t||null,*entries(r){if(t&&G(r)){const o=new Set(Object.keys(r));for(const a of e)o.delete(a),yield[a,r[a],t[a]];for(const a of o)yield[a,r[a],n]}},validator(r){return G(r)||"Expected an object, but received: "+I(r)},coercer(r){return G(r)?{...r}:r}})}function m(t){return new V({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function gt(t,e){return new V({type:"record",schema:null,*entries(n){if(G(n))for(const r in n){const o=n[r];yield[r,r,t],yield[r,o,e]}},validator(n){return G(n)||"Expected an object, but received: "+I(n)}})}function d(){return Z("string",t=>typeof t=="string"||"Expected a string, but received: "+I(t))}function ze(t){const e=Object.keys(t);return new V({type:"type",schema:t,*entries(n){if(G(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return G(n)||"Expected an object, but received: "+I(n)}})}function $(t){const e=t.map(n=>n.type).join(" | ");return new V({type:"union",schema:null,coercer(n,r){return(t.find(o=>{const[a]=o.validate(n,{coerce:!0});return!a})||Or()).coercer(n,r)},validator(n,r){const o=[];for(const a of t){const[...s]=Vt(n,a,r),[i]=s;if(i[0])for(const[c]of s)c&&o.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+I(n),...o]}})}function Or(){return Z("unknown",()=>!0)}var Cr=typeof global=="object"&&global&&global.Object===Object&&global;const Ve=Cr;var Er=typeof self=="object"&&self&&self.Object===Object&&self,Nr=Ve||Er||Function("return this")();const H=Nr;var Sr=H.Symbol;const B=Sr;var We=Object.prototype,Ar=We.hasOwnProperty,Pr=We.toString,jt=B?B.toStringTag:void 0;function Tr(t){var e=Ar.call(t,jt),n=t[jt];try{t[jt]=void 0;var r=!0}catch{}var o=Pr.call(t);return r&&(e?t[jt]=n:delete t[jt]),o}var Mr=Object.prototype,Rr=Mr.toString;function xr(t){return Rr.call(t)}var Dr="[object Null]",$r="[object Undefined]",He=B?B.toStringTag:void 0;function rt(t){return t==null?t===void 0?$r:Dr:He&&He in Object(t)?Tr(t):xr(t)}function X(t){return t!=null&&typeof t=="object"}var Ir="[object Symbol]";function Ht(t){return typeof t=="symbol"||X(t)&&rt(t)==Ir}function Jt(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var kr=Array.isArray;const T=kr;var Fr=1/0,Je=B?B.prototype:void 0,qe=Je?Je.toString:void 0;function Qe(t){if(typeof t=="string")return t;if(T(t))return Jt(t,Qe)+"";if(Ht(t))return qe?qe.call(t):"";var e=t+"";return e=="0"&&1/t==-Fr?"-0":e}function tt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Xe(t){return t}var Lr="[object AsyncFunction]",Br="[object Function]",Gr="[object GeneratorFunction]",Ur="[object Proxy]";function Ye(t){if(!tt(t))return!1;var e=rt(t);return e==Br||e==Gr||e==Lr||e==Ur}var zr=H["__core-js_shared__"];const qt=zr;var Ke=function(){var t=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Vr(t){return!!Ke&&Ke in t}var Wr=Function.prototype,Hr=Wr.toString;function ot(t){if(t!=null){try{return Hr.call(t)}catch{}try{return t+""}catch{}}return""}var Jr=/[\\^$.*+?()[\]{}|]/g,qr=/^\[object .+?Constructor\]$/,Qr=Function.prototype,Xr=Object.prototype,Yr=Qr.toString,Kr=Xr.hasOwnProperty,Zr=RegExp("^"+Yr.call(Kr).replace(Jr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function to(t){if(!tt(t)||Vr(t))return!1;var e=Ye(t)?Zr:qr;return e.test(ot(t))}function eo(t,e){return t==null?void 0:t[e]}function at(t,e){var n=eo(t,e);return to(n)?n:void 0}var no=at(H,"WeakMap");const Qt=no;var Ze=Object.create,ro=function(){function t(){}return function(e){if(!tt(e))return{};if(Ze)return Ze(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const oo=ro;function ao(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function io(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var so=800,co=16,uo=Date.now;function lo(t){var e=0,n=0;return function(){var r=uo(),o=co-(r-n);if(n=r,o>0){if(++e>=so)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function fo(t){return function(){return t}}var po=function(){try{var t=at(Object,"defineProperty");return t({},"",{}),t}catch{}}();const At=po;var ho=At?function(t,e){return At(t,"toString",{configurable:!0,enumerable:!1,value:fo(e),writable:!0})}:Xe,vo=lo(ho);const yo=vo;function mo(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var bo=9007199254740991,go=/^(?:0|[1-9]\d*)$/;function Xt(t,e){var n=typeof t;return e=e==null?bo:e,!!e&&(n=="number"||n!="symbol"&&go.test(t))&&t>-1&&t%1==0&&t<e}function tn(t,e,n){e=="__proto__"&&At?At(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yt(t,e){return t===e||t!==t&&e!==e}var jo=Object.prototype,_o=jo.hasOwnProperty;function Kt(t,e,n){var r=t[e];(!(_o.call(t,e)&&Yt(r,n))||n===void 0&&!(e in t))&&tn(t,e,n)}function _t(t,e,n,r){var o=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var i=e[a],c=r?r(n[i],t[i],i,n,t):void 0;c===void 0&&(c=t[i]),o?tn(n,i,c):Kt(n,i,c)}return n}var en=Math.max;function wo(t,e,n){return e=en(e===void 0?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=en(r.length-e,0),s=Array(a);++o<a;)s[o]=r[e+o];o=-1;for(var i=Array(e+1);++o<e;)i[o]=r[o];return i[e]=n(s),ao(t,this,i)}}var Oo=9007199254740991;function Zt(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Oo}function nn(t){return t!=null&&Zt(t.length)&&!Ye(t)}var Co=Object.prototype;function te(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Co;return t===n}function Eo(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var No="[object Arguments]";function rn(t){return X(t)&&rt(t)==No}var on=Object.prototype,So=on.hasOwnProperty,Ao=on.propertyIsEnumerable,Po=rn(function(){return arguments}())?rn:function(t){return X(t)&&So.call(t,"callee")&&!Ao.call(t,"callee")};const ee=Po;function To(){return!1}var an=typeof _=="object"&&_&&!_.nodeType&&_,sn=an&&typeof module=="object"&&module&&!module.nodeType&&module,Mo=sn&&sn.exports===an,cn=Mo?H.Buffer:void 0,Ro=cn?cn.isBuffer:void 0,xo=Ro||To;const Pt=xo;var Do="[object Arguments]",$o="[object Array]",Io="[object Boolean]",ko="[object Date]",Fo="[object Error]",Lo="[object Function]",Bo="[object Map]",Go="[object Number]",Uo="[object Object]",zo="[object RegExp]",Vo="[object Set]",Wo="[object String]",Ho="[object WeakMap]",Jo="[object ArrayBuffer]",qo="[object DataView]",Qo="[object Float32Array]",Xo="[object Float64Array]",Yo="[object Int8Array]",Ko="[object Int16Array]",Zo="[object Int32Array]",ta="[object Uint8Array]",ea="[object Uint8ClampedArray]",na="[object Uint16Array]",ra="[object Uint32Array]",N={};N[Qo]=N[Xo]=N[Yo]=N[Ko]=N[Zo]=N[ta]=N[ea]=N[na]=N[ra]=!0,N[Do]=N[$o]=N[Jo]=N[Io]=N[qo]=N[ko]=N[Fo]=N[Lo]=N[Bo]=N[Go]=N[Uo]=N[zo]=N[Vo]=N[Wo]=N[Ho]=!1;function oa(t){return X(t)&&Zt(t.length)&&!!N[rt(t)]}function ne(t){return function(e){return t(e)}}var un=typeof _=="object"&&_&&!_.nodeType&&_,wt=un&&typeof module=="object"&&module&&!module.nodeType&&module,aa=wt&&wt.exports===un,re=aa&&Ve.process,ia=function(){try{var t=wt&&wt.require&&wt.require("util").types;return t||re&&re.binding&&re.binding("util")}catch{}}();const ft=ia;var ln=ft&&ft.isTypedArray,sa=ln?ne(ln):oa;const fn=sa;var ca=Object.prototype,ua=ca.hasOwnProperty;function dn(t,e){var n=T(t),r=!n&&ee(t),o=!n&&!r&&Pt(t),a=!n&&!r&&!o&&fn(t),s=n||r||o||a,i=s?Eo(t.length,String):[],c=i.length;for(var u in t)(e||ua.call(t,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Xt(u,c)))&&i.push(u);return i}function pn(t,e){return function(n){return t(e(n))}}var la=pn(Object.keys,Object);const fa=la;var da=Object.prototype,pa=da.hasOwnProperty;function ha(t){if(!te(t))return fa(t);var e=[];for(var n in Object(t))pa.call(t,n)&&n!="constructor"&&e.push(n);return e}function Tt(t){return nn(t)?dn(t):ha(t)}function va(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var ya=Object.prototype,ma=ya.hasOwnProperty;function ba(t){if(!tt(t))return va(t);var e=te(t),n=[];for(var r in t)r=="constructor"&&(e||!ma.call(t,r))||n.push(r);return n}function oe(t){return nn(t)?dn(t,!0):ba(t)}var ga=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ja=/^\w*$/;function ae(t,e){if(T(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ht(t)?!0:ja.test(t)||!ga.test(t)||e!=null&&t in Object(e)}var _a=at(Object,"create");const Ot=_a;function wa(){this.__data__=Ot?Ot(null):{},this.size=0}function Oa(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ca="__lodash_hash_undefined__",Ea=Object.prototype,Na=Ea.hasOwnProperty;function Sa(t){var e=this.__data__;if(Ot){var n=e[t];return n===Ca?void 0:n}return Na.call(e,t)?e[t]:void 0}var Aa=Object.prototype,Pa=Aa.hasOwnProperty;function Ta(t){var e=this.__data__;return Ot?e[t]!==void 0:Pa.call(e,t)}var Ma="__lodash_hash_undefined__";function Ra(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ot&&e===void 0?Ma:e,this}function it(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}it.prototype.clear=wa,it.prototype.delete=Oa,it.prototype.get=Sa,it.prototype.has=Ta,it.prototype.set=Ra;function xa(){this.__data__=[],this.size=0}function Mt(t,e){for(var n=t.length;n--;)if(Yt(t[n][0],e))return n;return-1}var Da=Array.prototype,$a=Da.splice;function Ia(t){var e=this.__data__,n=Mt(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$a.call(e,n,1),--this.size,!0}function ka(t){var e=this.__data__,n=Mt(e,t);return n<0?void 0:e[n][1]}function Fa(t){return Mt(this.__data__,t)>-1}function La(t,e){var n=this.__data__,r=Mt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Y.prototype.clear=xa,Y.prototype.delete=Ia,Y.prototype.get=ka,Y.prototype.has=Fa,Y.prototype.set=La;var Ba=at(H,"Map");const Ct=Ba;function Ga(){this.size=0,this.__data__={hash:new it,map:new(Ct||Y),string:new it}}function Ua(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Rt(t,e){var n=t.__data__;return Ua(e)?n[typeof e=="string"?"string":"hash"]:n.map}function za(t){var e=Rt(this,t).delete(t);return this.size-=e?1:0,e}function Va(t){return Rt(this,t).get(t)}function Wa(t){return Rt(this,t).has(t)}function Ha(t,e){var n=Rt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function K(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}K.prototype.clear=Ga,K.prototype.delete=za,K.prototype.get=Va,K.prototype.has=Wa,K.prototype.set=Ha;var Ja="Expected a function";function ie(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Ja);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(ie.Cache||K),n}ie.Cache=K;var qa=500;function Qa(t){var e=ie(t,function(r){return n.size===qa&&n.clear(),r}),n=e.cache;return e}var Xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ya=/\\(\\)?/g,Ka=Qa(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Xa,function(n,r,o,a){e.push(o?a.replace(Ya,"$1"):r||n)}),e});const Za=Ka;function ti(t){return t==null?"":Qe(t)}function dt(t,e){return T(t)?t:ae(t,e)?[t]:Za(ti(t))}var ei=1/0;function pt(t){if(typeof t=="string"||Ht(t))return t;var e=t+"";return e=="0"&&1/t==-ei?"-0":e}function xt(t,e){e=dt(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pt(e[n++])];return n&&n==r?t:void 0}function ni(t,e,n){var r=t==null?void 0:xt(t,e);return r===void 0?n:r}function se(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var hn=B?B.isConcatSpreadable:void 0;function ri(t){return T(t)||ee(t)||!!(hn&&t&&t[hn])}function vn(t,e,n,r,o){var a=-1,s=t.length;for(n||(n=ri),o||(o=[]);++a<s;){var i=t[a];e>0&&n(i)?e>1?vn(i,e-1,n,r,o):se(o,i):r||(o[o.length]=i)}return o}function oi(t){var e=t==null?0:t.length;return e?vn(t,1):[]}function ai(t){return yo(wo(t,void 0,oi),t+"")}var ii=pn(Object.getPrototypeOf,Object);const ce=ii;var si="[object Object]",ci=Function.prototype,ui=Object.prototype,yn=ci.toString,li=ui.hasOwnProperty,fi=yn.call(Object);function F(t){if(!X(t)||rt(t)!=si)return!1;var e=ce(t);if(e===null)return!0;var n=li.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&yn.call(n)==fi}function di(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(o);++r<o;)a[r]=t[r+e];return a}function pi(){this.__data__=new Y,this.size=0}function hi(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function vi(t){return this.__data__.get(t)}function yi(t){return this.__data__.has(t)}var mi=200;function bi(t,e){var n=this.__data__;if(n instanceof Y){var r=n.__data__;if(!Ct||r.length<mi-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(t,e),this.size=n.size,this}function J(t){var e=this.__data__=new Y(t);this.size=e.size}J.prototype.clear=pi,J.prototype.delete=hi,J.prototype.get=vi,J.prototype.has=yi,J.prototype.set=bi;function gi(t,e){return t&&_t(e,Tt(e),t)}function ji(t,e){return t&&_t(e,oe(e),t)}var mn=typeof _=="object"&&_&&!_.nodeType&&_,bn=mn&&typeof module=="object"&&module&&!module.nodeType&&module,_i=bn&&bn.exports===mn,gn=_i?H.Buffer:void 0,jn=gn?gn.allocUnsafe:void 0;function wi(t,e){if(e)return t.slice();var n=t.length,r=jn?jn(n):new t.constructor(n);return t.copy(r),r}function Oi(t,e){for(var n=-1,r=t==null?0:t.length,o=0,a=[];++n<r;){var s=t[n];e(s,n,t)&&(a[o++]=s)}return a}function _n(){return[]}var Ci=Object.prototype,Ei=Ci.propertyIsEnumerable,wn=Object.getOwnPropertySymbols,Ni=wn?function(t){return t==null?[]:(t=Object(t),Oi(wn(t),function(e){return Ei.call(t,e)}))}:_n;const ue=Ni;function Si(t,e){return _t(t,ue(t),e)}var Ai=Object.getOwnPropertySymbols,Pi=Ai?function(t){for(var e=[];t;)se(e,ue(t)),t=ce(t);return e}:_n;const On=Pi;function Ti(t,e){return _t(t,On(t),e)}function Cn(t,e,n){var r=e(t);return T(t)?r:se(r,n(t))}function le(t){return Cn(t,Tt,ue)}function fe(t){return Cn(t,oe,On)}var Mi=at(H,"DataView");const de=Mi;var Ri=at(H,"Promise");const pe=Ri;var xi=at(H,"Set");const he=xi;var En="[object Map]",Di="[object Object]",Nn="[object Promise]",Sn="[object Set]",An="[object WeakMap]",Pn="[object DataView]",$i=ot(de),Ii=ot(Ct),ki=ot(pe),Fi=ot(he),Li=ot(Qt),st=rt;(de&&st(new de(new ArrayBuffer(1)))!=Pn||Ct&&st(new Ct)!=En||pe&&st(pe.resolve())!=Nn||he&&st(new he)!=Sn||Qt&&st(new Qt)!=An)&&(st=function(t){var e=rt(t),n=e==Di?t.constructor:void 0,r=n?ot(n):"";if(r)switch(r){case $i:return Pn;case Ii:return En;case ki:return Nn;case Fi:return Sn;case Li:return An}return e});const Et=st;var Bi=Object.prototype,Gi=Bi.hasOwnProperty;function Ui(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Gi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var zi=H.Uint8Array;const Dt=zi;function ve(t){var e=new t.constructor(t.byteLength);return new Dt(e).set(new Dt(t)),e}function Vi(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Wi=/\w*$/;function Hi(t){var e=new t.constructor(t.source,Wi.exec(t));return e.lastIndex=t.lastIndex,e}var Tn=B?B.prototype:void 0,Mn=Tn?Tn.valueOf:void 0;function Ji(t){return Mn?Object(Mn.call(t)):{}}function qi(t,e){var n=e?ve(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Qi="[object Boolean]",Xi="[object Date]",Yi="[object Map]",Ki="[object Number]",Zi="[object RegExp]",ts="[object Set]",es="[object String]",ns="[object Symbol]",rs="[object ArrayBuffer]",os="[object DataView]",as="[object Float32Array]",is="[object Float64Array]",ss="[object Int8Array]",cs="[object Int16Array]",us="[object Int32Array]",ls="[object Uint8Array]",fs="[object Uint8ClampedArray]",ds="[object Uint16Array]",ps="[object Uint32Array]";function hs(t,e,n){var r=t.constructor;switch(e){case rs:return ve(t);case Qi:case Xi:return new r(+t);case os:return Vi(t,n);case as:case is:case ss:case cs:case us:case ls:case fs:case ds:case ps:return qi(t,n);case Yi:return new r;case Ki:case es:return new r(t);case Zi:return Hi(t);case ts:return new r;case ns:return Ji(t)}}function vs(t){return typeof t.constructor=="function"&&!te(t)?oo(ce(t)):{}}var ys="[object Map]";function ms(t){return X(t)&&Et(t)==ys}var Rn=ft&&ft.isMap,bs=Rn?ne(Rn):ms;const gs=bs;var js="[object Set]";function _s(t){return X(t)&&Et(t)==js}var xn=ft&&ft.isSet,ws=xn?ne(xn):_s;const Os=ws;var Cs=1,Es=2,Ns=4,Dn="[object Arguments]",Ss="[object Array]",As="[object Boolean]",Ps="[object Date]",Ts="[object Error]",$n="[object Function]",Ms="[object GeneratorFunction]",Rs="[object Map]",xs="[object Number]",In="[object Object]",Ds="[object RegExp]",$s="[object Set]",Is="[object String]",ks="[object Symbol]",Fs="[object WeakMap]",Ls="[object ArrayBuffer]",Bs="[object DataView]",Gs="[object Float32Array]",Us="[object Float64Array]",zs="[object Int8Array]",Vs="[object Int16Array]",Ws="[object Int32Array]",Hs="[object Uint8Array]",Js="[object Uint8ClampedArray]",qs="[object Uint16Array]",Qs="[object Uint32Array]",E={};E[Dn]=E[Ss]=E[Ls]=E[Bs]=E[As]=E[Ps]=E[Gs]=E[Us]=E[zs]=E[Vs]=E[Ws]=E[Rs]=E[xs]=E[In]=E[Ds]=E[$s]=E[Is]=E[ks]=E[Hs]=E[Js]=E[qs]=E[Qs]=!0,E[Ts]=E[$n]=E[Fs]=!1;function $t(t,e,n,r,o,a){var s,i=e&Cs,c=e&Es,u=e&Ns;if(n&&(s=o?n(t,r,o,a):n(t)),s!==void 0)return s;if(!tt(t))return t;var f=T(t);if(f){if(s=Ui(t),!i)return io(t,s)}else{var p=Et(t),l=p==$n||p==Ms;if(Pt(t))return wi(t,i);if(p==In||p==Dn||l&&!o){if(s=c||l?{}:vs(t),!i)return c?Ti(t,ji(s,t)):Si(t,gi(s,t))}else{if(!E[p])return o?t:{};s=hs(t,p,i)}}a||(a=new J);var h=a.get(t);if(h)return h;a.set(t,s),Os(t)?t.forEach(function(g){s.add($t(g,e,n,g,t,a))}):gs(t)&&t.forEach(function(g,j){s.set(j,$t(g,e,n,j,t,a))});var v=u?c?fe:le:c?oe:Tt,y=f?void 0:v(t);return mo(y||t,function(g,j){y&&(j=g,g=t[j]),Kt(s,j,$t(g,e,n,j,t,a))}),s}var Xs="__lodash_hash_undefined__";function Ys(t){return this.__data__.set(t,Xs),this}function Ks(t){return this.__data__.has(t)}function It(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new K;++e<n;)this.add(t[e])}It.prototype.add=It.prototype.push=Ys,It.prototype.has=Ks;function Zs(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function tc(t,e){return t.has(e)}var ec=1,nc=2;function kn(t,e,n,r,o,a){var s=n&ec,i=t.length,c=e.length;if(i!=c&&!(s&&c>i))return!1;var u=a.get(t),f=a.get(e);if(u&&f)return u==e&&f==t;var p=-1,l=!0,h=n&nc?new It:void 0;for(a.set(t,e),a.set(e,t);++p<i;){var v=t[p],y=e[p];if(r)var g=s?r(y,v,p,e,t,a):r(v,y,p,t,e,a);if(g!==void 0){if(g)continue;l=!1;break}if(h){if(!Zs(e,function(j,C){if(!tc(h,C)&&(v===j||o(v,j,n,r,a)))return h.push(C)})){l=!1;break}}else if(!(v===y||o(v,y,n,r,a))){l=!1;break}}return a.delete(t),a.delete(e),l}function rc(t){var e=-1,n=Array(t.size);return t.forEach(function(r,o){n[++e]=[o,r]}),n}function oc(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var ac=1,ic=2,sc="[object Boolean]",cc="[object Date]",uc="[object Error]",lc="[object Map]",fc="[object Number]",dc="[object RegExp]",pc="[object Set]",hc="[object String]",vc="[object Symbol]",yc="[object ArrayBuffer]",mc="[object DataView]",Fn=B?B.prototype:void 0,ye=Fn?Fn.valueOf:void 0;function bc(t,e,n,r,o,a,s){switch(n){case mc:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yc:return!(t.byteLength!=e.byteLength||!a(new Dt(t),new Dt(e)));case sc:case cc:case fc:return Yt(+t,+e);case uc:return t.name==e.name&&t.message==e.message;case dc:case hc:return t==e+"";case lc:var i=rc;case pc:var c=r&ac;if(i||(i=oc),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=ic,s.set(t,e);var f=kn(i(t),i(e),r,o,a,s);return s.delete(t),f;case vc:if(ye)return ye.call(t)==ye.call(e)}return!1}var gc=1,jc=Object.prototype,_c=jc.hasOwnProperty;function wc(t,e,n,r,o,a){var s=n&gc,i=le(t),c=i.length,u=le(e),f=u.length;if(c!=f&&!s)return!1;for(var p=c;p--;){var l=i[p];if(!(s?l in e:_c.call(e,l)))return!1}var h=a.get(t),v=a.get(e);if(h&&v)return h==e&&v==t;var y=!0;a.set(t,e),a.set(e,t);for(var g=s;++p<c;){l=i[p];var j=t[l],C=e[l];if(r)var M=s?r(C,j,l,e,t,a):r(j,C,l,t,e,a);if(!(M===void 0?j===C||o(j,C,n,r,a):M)){y=!1;break}g||(g=l=="constructor")}if(y&&!g){var P=t.constructor,R=e.constructor;P!=R&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof R=="function"&&R instanceof R)&&(y=!1)}return a.delete(t),a.delete(e),y}var Oc=1,Ln="[object Arguments]",Bn="[object Array]",kt="[object Object]",Cc=Object.prototype,Gn=Cc.hasOwnProperty;function Ec(t,e,n,r,o,a){var s=T(t),i=T(e),c=s?Bn:Et(t),u=i?Bn:Et(e);c=c==Ln?kt:c,u=u==Ln?kt:u;var f=c==kt,p=u==kt,l=c==u;if(l&&Pt(t)){if(!Pt(e))return!1;s=!0,f=!1}if(l&&!f)return a||(a=new J),s||fn(t)?kn(t,e,n,r,o,a):bc(t,e,c,n,r,o,a);if(!(n&Oc)){var h=f&&Gn.call(t,"__wrapped__"),v=p&&Gn.call(e,"__wrapped__");if(h||v){var y=h?t.value():t,g=v?e.value():e;return a||(a=new J),o(y,g,n,r,a)}}return l?(a||(a=new J),wc(t,e,n,r,o,a)):!1}function me(t,e,n,r,o){return t===e?!0:t==null||e==null||!X(t)&&!X(e)?t!==t&&e!==e:Ec(t,e,n,r,me,o)}var Nc=1,Sc=2;function Ac(t,e,n,r){var o=n.length,a=o,s=!r;if(t==null)return!a;for(t=Object(t);o--;){var i=n[o];if(s&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++o<a;){i=n[o];var c=i[0],u=t[c],f=i[1];if(s&&i[2]){if(u===void 0&&!(c in t))return!1}else{var p=new J;if(r)var l=r(u,f,c,t,e,p);if(!(l===void 0?me(f,u,Nc|Sc,r,p):l))return!1}}return!0}function Un(t){return t===t&&!tt(t)}function Pc(t){for(var e=Tt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Un(o)]}return e}function zn(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Tc(t){var e=Pc(t);return e.length==1&&e[0][2]?zn(e[0][0],e[0][1]):function(n){return n===t||Ac(n,t,e)}}function Mc(t,e){return t!=null&&e in Object(t)}function Rc(t,e,n){e=dt(e,t);for(var r=-1,o=e.length,a=!1;++r<o;){var s=pt(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=o?a:(o=t==null?0:t.length,!!o&&Zt(o)&&Xt(s,o)&&(T(t)||ee(t)))}function xc(t,e){return t!=null&&Rc(t,e,Mc)}var Dc=1,$c=2;function Ic(t,e){return ae(t)&&Un(e)?zn(pt(t),e):function(n){var r=ni(n,t);return r===void 0&&r===e?xc(n,t):me(e,r,Dc|$c)}}function kc(t){return function(e){return e==null?void 0:e[t]}}function Fc(t){return function(e){return xt(e,t)}}function Lc(t){return ae(t)?kc(pt(t)):Fc(t)}function Vn(t){return typeof t=="function"?t:t==null?Xe:typeof t=="object"?T(t)?Ic(t[0],t[1]):Tc(t):Lc(t)}function Bc(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function Gc(t,e){return e.length<2?t:xt(t,di(e,0,-1))}var Uc="Expected a function";function zc(t){if(typeof t!="function")throw new TypeError(Uc);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Vc(t,e){return e=dt(e,t),t=Gc(t,e),t==null||delete t[pt(Bc(e))]}function Wc(t){return F(t)?void 0:t}var Hc=1,Jc=2,qc=4,Qc=ai(function(t,e){var n={};if(t==null)return n;var r=!1;e=Jt(e,function(a){return a=dt(a,t),r||(r=a.length>1),a}),_t(t,fe(t),n),r&&(n=$t(n,Hc|Jc|qc,Wc));for(var o=e.length;o--;)Vc(n,e[o]);return n});const Wn=Qc;function Xc(t,e,n,r){if(!tt(t))return t;e=dt(e,t);for(var o=-1,a=e.length,s=a-1,i=t;i!=null&&++o<a;){var c=pt(e[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return t;if(o!=s){var f=i[c];u=r?r(f,c,i):void 0,u===void 0&&(u=tt(f)?f:Xt(e[o+1])?[]:{})}Kt(i,c,u),i=i[c]}return t}function Yc(t,e,n){for(var r=-1,o=e.length,a={};++r<o;){var s=e[r],i=xt(t,s);n(i,s)&&Xc(a,dt(s,t),i)}return a}function Kc(t,e){if(t==null)return{};var n=Jt(fe(t),function(r){return[r]});return e=Vn(e),Yc(t,n,function(r,o){return e(r,o[0])})}function Zc(t,e){return Kc(t,zc(Vn(e)))}const tu=t=>({data:e,message:n,throwError:r})=>{const o=t({data:e,message:n,throwError:r});if(o.isValidate)return o;if(r)throw o.message||n?new Error(`${o.message||n}
 originData: ${JSON.stringify(e)}`):new Error(`${JSON.stringify(e)} 
 data struct format is invalidate`);return o},be=t=>{const{data:e,message:n,throwError:r,dataStruct:o}=t;return tu(({data:a})=>{try{return Fe(a,o),{isValidate:!0}}catch(s){let i=s;return s instanceof Ie&&(i=s.failures().map(c=>`\u3010${c.path.join(".")}\u3011: ${c.message}
`)),{isValidate:!1,message:i,error:s}}})({data:e,message:n,throwError:r})};var U=(t=>(t.SLOT="SLOT",t.FUNCTION="FUNCTION",t.EXPRESSION="EXPRESSION",t))(U||{}),ge=(t=>(t.DESIGN="design",t.SAVE="save",t))(ge||{}),Ft=(t=>(t.FUNC="FUNC",t.COMP="COMP",t))(Ft||{});const eu=()=>Z("normalObj",t=>!F(t)||[U.SLOT,U.EXPRESSION,U.FUNCTION].includes(t==null?void 0:t.type)?!1:(ut(t,gt(d(),je)),!0)),je=$([d(),Ue(),Q(),w({type:k(U.SLOT),renderType:Wt([Ft.FUNC,Ft.COMP]),params:m(D(d())),value:lt(()=>$([ht,D(ht)]))}),w({type:k(U.EXPRESSION),value:d()}),w({type:k(U.FUNCTION),value:d()}),eu(),D(lt(()=>je))]),Hn=w({type:k(U.EXPRESSION),value:d()}),ht=w({id:m(d()),componentName:d(),props:m(gt(d(),je)),stateName:m(d()),state:m(gt(d(),W())),children:lt(()=>m(D($([d(),ht])))),configure:m(W()),style:m(d()),className:m(d()),refId:m(d()),extra:m(gt(W(),W())),condition:m($([Q(),Hn])),loop:m(w({open:Q(),data:$([D(W()),Hn]),args:m(D(d()))}))});var _e=(t=>(t.PAGE="Page",t))(_e||{});const nu=Le(Be(ht,["componentName"]),w({componentName:k("Page")})),we=w({package:d(),version:d(),exportName:d(),destructuring:m(Q()),subName:m(d()),main:m(d())}),ru=$([w({globName:d(),type:k(["CDN"]),content:$([we])}),w({globName:d(),type:k(["FUNCTION"]),content:$([d()])})]),ou=w({version:d(),pageName:d(),style:m(d()),css:m(d()),componentsMeta:D(Le(w({componentName:d()}),we)),thirdLibs:m(ru),componentsTree:nu});function au(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(o){o(n)}),(r=t.get("*"))&&r.slice().map(function(o){o(e,n)})}}}const Nt=au(),Oe=$([d(),w({label:d(),tip:m(d())})]),iu=w({type:k("shape"),value:D(w({name:d(),title:Oe,valueType:lt(()=>Lt)}))}),su=w({type:k("enums"),value:D(d())});w({type:k("array"),value:lt(()=>Lt)});const cu=w({type:k("array"),value:lt(()=>D(Lt))}),Lt=$([Wt(["array","boolean","number","object","string"]),Wt(["component","expression","function"]),iu,su,cu]),uu=$([d(),w({componentName:d(),props:W(),initialValue:W()})]),Ce=w({name:d(),title:Oe,valueType:Lt,description:m(d()),defaultValue:W(),setters:m(D(uu)),condition:m(Ge())}),lu=$([d(),Ge()]);var Ee=(t=>(t.SINGLE="single",t.GROUP="group",t))(Ee||{});$([d(),w({name:d(),describe:m(d()),params:m(w({name:d(),description:d()})),template:d()})]);const fu=w({componentName:d(),title:Oe,description:m(d()),screenshot:m(d()),icon:m(d()),tags:m(D(d())),groupTag:m(d()),category:m(d()),priority:m(Ue()),version:d(),npm:we,snippets:D(Be(ht,["id"])),props:D($([Ce,w({type:k("single"),content:Ce}),w({type:k("group"),content:D(Ce)})])),isContainer:m(Q()),isModal:m($([Q(),w({visibleKey:d()})])),isSupportStyle:m(Q()),isSupportDispatchNativeEvent:m(Q()),isLayout:m(Q()),rootSelector:m(d()),selectionToolBars:m(D(lu)),extra:m(gt(W(),W()))}),du=(t,e)=>{const n={...t,value:[]},r=t.value;return r&&(T(r)?n.value=r.map(o=>new A(o)):F(r)&&n.value.push(new A(r,{parent:e}))),n};class ct{constructor(e,{parent:n}){b(this,"nodeType","SLOT"),b(this,"rawData"),b(this,"parent"),b(this,"emitter",Nt),b(this,"data"),b(this,"id"),this.parent=n,this.rawData=e,this.data=du(e,this),this.id=yt()}get value(){return this.data}export(e){const n=this.data,r=o=>{if(o instanceof A)return o.export(e);if(F(o)){const a={};return Object.keys(o||{}).forEach(s=>{a[s]=r(o[s])}),a}return T(o)?o.map(a=>r(a)):(e==="design"&&delete o.id,o)};return r(n)}}const Jn=t=>{let e=[];return t.forEach(n=>{const r=n;r.type?r.type===Ee.SINGLE?e.push(r.content):r.type===Ee.GROUP&&(e=[...e,...Jn(r.content)]):e.push(n)}),e},Ne=(t,e,n)=>{if(t.type)return t.type===U.SLOT?new ct(t,{parent:e,materials:n}):t;if(F(t)){const r={};return Object.keys(t).forEach(o=>{r[o]=Se(t[o],e)}),r}else return Array.isArray(t)?t.map(r=>Ne(r,e,n)):t},Se=(t,e,n)=>F(t)?Ne(t,e,n):T(t)?t.map(r=>Ne(r,e,n)):t;class vt{constructor(e,n,{parent:r,materials:o}){b(this,"nodeType","PROP"),b(this,"rawData"),b(this,"parent"),b(this,"emitter",Nt),b(this,"data"),b(this,"name"),b(this,"materialsMode"),this.materialsMode=o,this.parent=r,this.rawData=n,this.name=e,this.data=Se(n,this,o)}isIncludeSlot(){return!1}isIncludeExpression(){return!1}get value(){return this.data}updateValue(e){const n=this.data;this.data=Se(e!=null?e:n,this),this.emitter.emit("onPropChange",{value:this.data,preValue:n,node:this}),this.parent&&!(this.parent instanceof ct)&&this.emitter.emit("onNodeChange",{value:this.parent.value,preValue:this.parent.value,node:this.parent})}get material(){const e=this.parent;if(e instanceof A){const n=e.material;return Jn((n==null?void 0:n.value.props)||[]).find(r=>r.name===this.name)}else return null}export(e){const n=this.data,r=o=>{if(o instanceof ct||o instanceof A)return o.export(e);if(F(o)){const a={};return Object.keys(o||{}).forEach(s=>{a[s]=r(o[s])}),a}return T(o)?o.map(a=>r(a)):(e==="design"&&delete o.id,o)};return r(n)}}const pu=t=>{if(typeof t=="string")return!0;be({data:t,dataStruct:ht,throwError:!0})},qn=(t,e,n)=>{var r;if(typeof t=="string")return t;const o={...t,id:(r=t.id)!=null?r:yt(),children:[],props:{}},a=Object.keys(t.props||{});return a.length&&a.forEach(s=>{var i;o.props[s]instanceof vt||(o.props[s]=new vt(s,((i=t.props)==null?void 0:i[s])||"",{parent:e,materials:n}))}),t.children&&(Array.isArray(t.children)?o.children=t.children.map(s=>{if(s instanceof A)return s;if(F(s)){const i=s;return new A(i,{parent:e,materials:n})}else return s}):(t.children instanceof A&&(o.children=[t.children]),o.children=[new A(t.children,{parent:e,materials:n})])),o};class A{constructor(e,n){b(this,"nodeType","NODE"),b(this,"rawData"),b(this,"data"),b(this,"emitter",Nt),b(this,"parent"),b(this,"materialsModel"),b(this,"listenerHandle"),b(this,"onChangeCbQueue"),this.rawData=JSON.parse(JSON.stringify(e)),pu(e),this.parent=(n==null?void 0:n.parent)||null,this.materialsModel=(n==null?void 0:n.materials)||null,this.data=qn(e,this,n==null?void 0:n.materials),this.listenerHandle=[],this.onChangeCbQueue=[],this.registerListener()}registerListener(){const e=n=>{const{node:r}=n;r===this&&r.id===this.id&&this.onChangeCbQueue.forEach(o=>o(n))};this.emitter.on("onNodeChange",e),this.listenerHandle.push(()=>{this.emitter.off("onNodeChange",e)})}onChange(e){return this.onChangeCbQueue.push(e),()=>{this.onChangeCbQueue=this.onChangeCbQueue.filter(n=>n!==e)}}destroy(){this.listenerHandle.forEach(e=>e())}get id(){return this.data.id}get value(){return this.data}clone(e){const n={...this.export("design"),id:e||yt()};return new A(n)}updateValue(e){const n=this.data,r={...this.data,...e};this.data=qn(r,this),this.emitter.emit("onNodeChange",{value:r,preValue:n,node:this})}get props(){return this.data.props}get material(){const e=this.materialsModel;return e==null?void 0:e.findByComponentName(this.data.componentName)}export(e){var n;const r=this.data;if(typeof r=="string")return r;const o={};Object.keys(r.props||{}).forEach(i=>{o[i]=r.props[i].export(e)});const a=(n=r.children)==null?void 0:n.map(i=>i instanceof A?i.export(e):i);let s={...r,props:o,children:a};return e==="design"&&delete s.id,s=Ae(s),s}}const Qn=t=>(t==null?void 0:t.type)===U.EXPRESSION,hu=t=>(t==null?void 0:t.type)==U.FUNCTION,yt=()=>Math.random().toString(32).slice(3,9),Xn=t=>(t==null?void 0:t.nodeType)==="PROP"&&t instanceof vt,Ae=t=>Zc(t,e=>F(e)?!Object.keys(e).length:T(e)?!e.length:!e),Yn=(t,e,n)=>{const r={...t,id:yt(),props:{},componentName:_e.PAGE,children:[]};let o=[];T(t.children)?o=t.children.map(s=>s instanceof A?s:F(s)?new A(s,{parent:e,materials:n}):s):t.children instanceof A?o.push(t.children):t.children&&F(t.children)?o.push(new A(t.children,{parent:e})):o.push(t.children,{parent:e});const a=Object.keys(t.props||{});return a.length&&a.forEach(s=>{var i;r.props[s]=new vt(s,((i=t.props)==null?void 0:i[s])||"",{parent:e})}),r.children=o,r};class Pe{constructor(e,{parent:n,materials:r}){b(this,"rawData"),b(this,"data"),b(this,"nodeType","SCHEMA"),b(this,"emitter",Nt),b(this,"materialsModel"),b(this,"listenerHandle"),b(this,"onChangeCbQueue"),b(this,"parent"),this.materialsModel=r,this.rawData=JSON.parse(JSON.stringify(e)),this.data=Yn(e,this,r),this.listenerHandle=[],this.onChangeCbQueue=[],this.registerListener(),this.parent=n}registerListener(){const e=n=>{const{node:r}=n;r===this&&r.id===this.id&&this.onChangeCbQueue.forEach(o=>o(n))};this.emitter.on("onNodeChange",e),this.listenerHandle.push(()=>{this.emitter.off("onNodeChange",e)})}onChange(e){return this.onChangeCbQueue.push(e),()=>{this.onChangeCbQueue=this.onChangeCbQueue.filter(n=>n!==e)}}get id(){return this.data.id}get value(){return this.data}get props(){return this.data.props}get material(){const e=this.materialsModel;return e==null?void 0:e.findByComponentName(this.data.componentName)}updateValue(e){const n=this.data,r={...this.data,...e};this.data=Yn(r,this,this.materialsModel),this.emitter.emit("onNodeChange",{value:this.data,preValue:n,node:this})}export(e=ge.SAVE){var n;const r=this.data,o={};Object.keys(r.props||{}).forEach(c=>{o[c]=r.props[c].export(e)});const a=(n=r.children)==null?void 0:n.map(c=>c.export(e)),s={...r,props:o,children:a};let i=Wn(s,["id"]);return i=Ae(i),i}}const vu=t=>t;class yu{constructor(e){b(this,"rawData"),b(this,"data"),this.rawData=e,this.data=vu(e)}get value(){return this.data}get componentName(){return this.data.componentName}}const mu=t=>{if(!T(t))throw new Error("Materials must be a array");return t.map(e=>new yu(e))},bu=t=>{t==null||t.forEach(e=>{be({data:e,dataStruct:fu,throwError:!0})})};class gu{constructor(e){b(this,"rowData"),b(this,"data"),this.rowData=e,bu(e),this.data=mu(e)}findByComponentName(e){return this.data.find(n=>n.componentName===e)}get value(){return this.data}}const ju=t=>(be({data:t,dataStruct:ou,throwError:!0}),t),_u=(t,e,n)=>({...t,componentsTree:new Pe(t.componentsTree,{parent:e,materials:n})});class Te{constructor(e,n){b(this,"nodeType","PAGE"),b(this,"rawData"),b(this,"emitter",Nt),b(this,"data"),b(this,"parent"),b(this,"materialsModel"),ju(e),this.rawData=JSON.parse(JSON.stringify(e)),this.materialsModel=new gu((n==null?void 0:n.materials)||[]),this.data=_u(e,this,this.materialsModel)}get value(){return this.data}getNode(e){const n=[this.data.componentsTree];for(;n.length;){const r=n.shift();if((r==null?void 0:r.id)===e)return r;const o=(r==null?void 0:r.props)||{},a=i=>{if(i instanceof A){n.push(i);return}if(i instanceof ct&&a(i.value.value),i instanceof vt){a(i.value);return}if(F(i)){const c=i;Object.keys(c).map(u=>{a(c[u])});return}if(T(i)){i.forEach(c=>{a(c)});return}};a(o);const s=(r==null?void 0:r.value.children.filter(i=>i instanceof A))||[];n.push(...s)}return null}addNode(e,n,r="AFTER"){var o,a,s;if(r==="AFTER"||r==="BEFORE"){const i=n.parent;if(i===null&&n instanceof Pe)throw new Error("Not found parent node");if(i instanceof vt){console.log("CProp can not add node");return}if(i instanceof ct){const u=i.value.value,f=(o=u.findIndex(p=>p===n))!=null?o:-1;return f>=0?(r==="BEFORE"?u.splice(f,0,e):u.splice(f+1,0,e),e.parent=i,(a=i.parent)==null||a.updateValue(),!0):void 0}if(i instanceof Te)return;const c=(s=i==null?void 0:i.value.children.findIndex(u=>u===n))!=null?s:-1;if(c>=0)return r==="BEFORE"?i==null||i.value.children.splice(c,0,e):i==null||i.value.children.splice(c+1,0,e),e.parent=i,i==null||i.updateValue(),!0;console.warn("Not found target node");return}if(r==="CHILD_START")return n.value.children.unshift(e),e.parent=n,n.updateValue(),!0;if(r==="CHILD_END")return n.value.children.push(e),e.parent=n,n.updateValue(),!0;if(F(r)){const i=r;if(i.type==="CHILD"){const c=i.pos,u=i.index||0;return c==="BEFORE"?n==null||n.value.children.splice(u,0,e):n==null||n.value.children.splice(u+1,0,e),e.parent=n,n.updateValue(),!0}else console.warn("Can not parse pos obj")}return!1}createNode(e){return delete e.id,new A(e,{parent:null})}addNodeById(e,n,r="AFTER"){const o=this.getNode(n);return o?this.addNode(e,o,r):(console.warn(`Not find a node by ${n}, pls check it`),!1)}copyNode(e){const n=e.export("design");n.id=yt();const r=new A(n,{parent:e.parent});return this.addNode(r,e,"AFTER"),r}copyNodeById(e){const n=this.getNode(e);return n&&n instanceof A?this.copyNode(n):!1}moveNode(e,n,r){this.deleteNode(e);let o=n;["AFTER","BEFORE"].includes(r)&&(o=n.parent),e.parent=o,this.addNode(e,n,r)}moveNodeById(e,n,r){const o=this.getNode(e),a=this.getNode(n);return o&&a&&o instanceof A&&a instanceof A?this.moveNode(o,a,r):!1}deleteNode(e){var n;const r=e.parent;if(!r)throw new Error("parent node is null or undefined, pls check it");if(r instanceof ct){const o=r.value.value,a=o.findIndex(i=>i===e),s=o[a];return o.splice(a,1),(n=r.parent)==null||n.updateValue(),s}if(r instanceof A||r instanceof Pe){const o=r.value.children,a=o.findIndex(i=>i===e),s=o[a];return o.splice(a,1),r.updateValue(),s}}deleteNodeById(e){const n=this.getNode(e);if(n)return this.deleteNode(n)}export(e=ge.SAVE){let n={...this.data,componentsTree:this.data.componentsTree.export(e)};return n=Wn(n,["id"]),n=Ae(n),JSON.parse(JSON.stringify(n))}}const Kn=t=>new Te(t);var wu=typeof global=="object"&&global&&global.Object===Object&&global;const Ou=wu;var Cu=typeof self=="object"&&self&&self.Object===Object&&self,Eu=Ou||Cu||Function("return this")(),Nu=Eu.Symbol;const Bt=Nu;var Zn=Object.prototype,Su=Zn.hasOwnProperty,Au=Zn.toString,St=Bt?Bt.toStringTag:void 0;function Pu(t){var e=Su.call(t,St),n=t[St];try{t[St]=void 0;var r=!0}catch{}var o=Au.call(t);return r&&(e?t[St]=n:delete t[St]),o}var Tu=Object.prototype,Mu=Tu.toString;function Ru(t){return Mu.call(t)}var xu="[object Null]",Du="[object Undefined]",tr=Bt?Bt.toStringTag:void 0;function $u(t){return t==null?t===void 0?Du:xu:tr&&tr in Object(t)?Pu(t):Ru(t)}function Iu(t){return t!=null&&typeof t=="object"}var ku=Array.isArray;const Fu=ku;function Lu(t,e){return function(n){return t(e(n))}}var Bu=Lu(Object.getPrototypeOf,Object);const Gu=Bu;var Uu="[object Object]",zu=Function.prototype,Vu=Object.prototype,er=zu.toString,Wu=Vu.hasOwnProperty,Hu=er.call(Object);function Ju(t){if(!Iu(t)||$u(t)!=Uu)return!1;var e=Gu(t);if(e===null)return!0;var n=Wu.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&er.call(n)==Hu}function qu(t){var r,o;const n=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.forward_ref"):60112;return(t==null?void 0:t.$$typeof)===n||((r=t==null?void 0:t.prototype)==null?void 0:r.isReactComponent)||((o=t==null?void 0:t.prototype)==null?void 0:o.setState)||t._forwardRef}function Qu(t){class e extends x.Component{render(){return x.createElement(t,this.props)}}return e.displayName=t.displayName,e}const Me=(t,e)=>{const n=r=>{const a=`
    ${Object.keys(e).map(s=>`const ${s} = $$context['${s}'];`).join(`
`)}
    return ${r};
    `;return new Function("$$context",a)(e)};try{return n(t)}catch(r){return console.warn(r),`[${t}] expression run failed`}},Xu=(t,e)=>function(...r){try{const o=`
        var f = ${t};
        return f.apply(f, arguments)
      `;new Function(o)(...r,e)}catch(o){console.warn(o)}},nr=(t,e)=>{const n={};return e.forEach((r,o)=>{n[r]=t[o]}),n},Gt="DYNAMIC",Yu=["$$context","$$nodeModel"],q=new Map;class Ku{constructor(){O(this,"components",{});O(this,"onGetRef");O(this,"onGetComponent");O(this,"onComponentMount");O(this,"onComponentDestroy")}getComponent(e){var o;const n=e.value.componentName;let r=this.components[n]||(()=>"Component not found");return qu(r)||(r=Qu(r),this.components[n]=r),this.onGetComponent&&(r=(o=this.onGetComponent)==null?void 0:o.call(this,r,e)),r}getContext(e={},n){let r=e;return n&&(r={...e},r.__proto__=n||null),r}pageRender(e,{components:n,onGetRef:r,$$context:o={},onGetComponent:a,onComponentMount:s,onComponentDestroy:i}){this.components=n,this.onGetRef=r,this.onGetComponent=a,this.onComponentMount=s,this.onComponentDestroy=i;const c=e.value.componentsTree,u=this.getComponent(c),f=this.convertModelToComponent(u,e.value.componentsTree),p={},l=c.props;return Object.keys(l).forEach(h=>{p[h]=l[h].value}),p.$$context=o,this.render(f,p)}transformProps(e={},{$$context:n}){const r=e,o=s=>{if(Array.isArray(s))return s.map(i=>o(i));if(Xn(s))return o(s.value);if(s instanceof ct){const i=s.value,c=i.value;if(!c)return console.warn("slot value is null, this maybe cause some error, pls check it",e),()=>{};const u=f=>{if(q.get(f.id))return q.get(f.id);const p=this.getComponent(f),l=this.convertModelToComponent(p,f);if(i.renderType===Ft.FUNC){const h=i.params||[],v=(...y)=>{const g=nr(y,h),j=this.getContext({params:g},n),C=`${f.id}-${Gt}`;return this.render(l,{$$context:j,key:C})};return q.set(f.id,v),v}else return q.set(f.id,l),l};if(Array.isArray(c)){const f=c==null?void 0:c.map(p=>u(p));return(...p)=>f.map(l=>l(...p))}else return u(c)}else{if(Qn(s))return Me(s.value,n||{});if(hu(s))return Xu(s.value,n);if(Ju(s)){let i=s;Xn(s)&&(i=s.value);const c=i,u={};return Object.keys(i).forEach(f=>{u[f]=o(c[f])}),u}else return s}},a={};return Object.keys(r).forEach(s=>{const i=r[s];a[s]=o(i)}),a}convertModelToComponent(e,n){const r=this;class o extends z.default.Component{constructor(i){super(i);O(this,"NODE_ID",n.id);O(this,"targetComponentRef");O(this,"listenerHandle",[]);O(this,"updateState",i=>{this.setState(i)});this.targetComponentRef=z.default.createRef(),this.state=n.value.state||{}}componentDidMount(){var c;r.onGetRef&&r.onGetRef(this.targetComponentRef,n,this),(c=r.onComponentMount)==null||c.call(r,this,n);const i=()=>{this.forceUpdate()};n.onChange(i)}componentWillUnmount(){var i;(i=r.onComponentDestroy)==null||i.call(r,this,n)}render(){var M;const{$$context:i,...c}=this.props,u={key:n.id,...n.props,...c},f={state:this.state||{},updateState:this.updateState};n.value.componentName===_e.PAGE&&(f.globalState=this.state,f.updateGlobalState=this.updateState,f.stateManager={});const p=r.getContext(f,i),l=n.value.stateName;n.value.stateName&&typeof l=="string"&&p.stateManager&&(p.stateManager[l]={state:this.state||{},updateState:this.updateState});let h=(M=n.value.condition)!=null?M:!0;if(typeof h!="boolean"&&(h=Me(h.value,p||{})),!h)return null;const v=n.value.loop;let y=[];if(v&&v.open){this.targetComponentRef.current=[];let P=[];if(Qn(v.data)){const R=v.data;P=Me(R.value,p||{})}return y=P.map((...R)=>{const L=R[1],S=v.args||["item","index"],mt=nr(R,S),bt=r.getContext({loopData:mt},p),et=r.transformProps(u,{$$context:bt}),{children:Ut}=et;let xe=[];if(Ut!==void 0)delete et.children,xe=Array.isArray(Ut)?Ut:[Ut];else{const zt=[];n.value.children.forEach((cl,ul)=>{const ll=r.buildComponent(cl,{$$context:p,idx:ul});zt.push(ll)}),xe=zt}return et.key=`${et.key}-${L}`,et.ref=zt=>{this.targetComponentRef.current[L]=zt},r.render(e,et,...xe)}),y}const g=r.transformProps(u,{$$context:p}),{children:j}=g;let C=[];if(j!==void 0)delete g.children,C=Array.isArray(j)?j:[j];else{const P=[];n.value.children.forEach((L,S)=>{const mt=r.buildComponent(L,{$$context:p,idx:S});P.push(mt)}),C=P}return g.ref=this.targetComponentRef,r.render(e,g,...C)}}return O(o,"__CP_TYPE__",Gt),o}buildComponent(e,{$$context:n={}}){return typeof e=="string"?this.render(e):(({currentNode:o})=>{const a=o.value.id;let s=null;if(q.get(a))s=q.get(a);else{const u=this.getComponent(o);s=this.convertModelToComponent(u,o)}q.get(a)||q.set(a,s);const i=`${a}-${Gt}`,c={$$context:n,$$nodeModel:e,key:i};return this.render(s,c)})({currentNode:e})}render(e,n={},...r){return typeof e=="string"||typeof e=="number"?String(e):(Yu.forEach(a=>{a in n&&e.__CP_TYPE__!==Gt&&delete n[a]}),z.default.createElement(e,n,...r))}}const Zu=$e(new Ku),tl=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","element","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main","map","mark","marquee","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","plaintext","pre","progress","q","rb","rbc","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"].reduce((t,e)=>(t[e]=({children:n,...r})=>{let o=n;return Array.isArray(n)||(o=[n]),z.default.createElement(e,r,...o)},t),{}),el={Page:({children:t})=>t,...tl};class nl{constructor(){O(this,"refMap",new Map)}get(e){return this.refMap.get(e).current}add(e,n){this.refMap.set(e,n)}remove(e){this.refMap.delete(e)}destroy(){this.refMap.clear()}}class rr extends z.default.Component{constructor(n){super(n);O(this,"refManager");O(this,"rerender",n=>{var r;q.clear(),this.setState({pageModel:Kn(n)}),(r=this.state.pageModel)==null||r.emitter.emit("onNodeChange",{value:n,preValue:this.state.pageModel,node:this.state.pageModel})});O(this,"onGetRef",(n,r,o)=>{var a,s;(s=(a=this.props).onGetRef)==null||s.call(a,n,r,o),this.refManager.add(r.value.refId||r.id,n)});this.state={pageModel:n.pageModel||Kn(n.page)},this.refManager=new nl}componentDidMount(){const{render:n}=this.props;n&&(n.ref.current=this)}componentWillUnmount(){this.refManager.destroy()}render(){const{props:n}=this,{adapter:r,onGetComponent:o,onComponentDestroy:a,onComponentMount:s}=n,{pageModel:i}=this.state;if(!i)return null;const c={...el,...n.components};return r.pageRender(i,{libs:{},components:c,onGetRef:this.onGetRef,onGetComponent:o,onComponentMount:s,onComponentDestroy:a,$$context:{refs:this.refManager}})}}const rl=()=>{const t=x.useRef(null);return{ref:t,rerender:function(...e){t.current&&t.current.rerender(...e)}}};class or{constructor(){O(this,"instanceMap",new Map)}get(e){return this.instanceMap.get(e)}add(e,n){this.instanceMap.set(e,n)}remove(e){this.instanceMap.delete(e)}destroy(){this.instanceMap.clear()}}class ol extends z.default.Component{constructor(n){super(n);O(this,"instanceManager",new or);O(this,"renderRef");O(this,"onGetComponent",(n,r)=>{class o extends z.default.Component{constructor(){super(...arguments);O(this,"_DESIGN_BOX",!0);O(this,"_NODE_MODEL",r);O(this,"_NODE_ID",r.id)}render(){const{children:i=[],...c}=this.props;let u=i;return Fu(i)||(u=[i]),z.default.createElement(n,c,...u)}}return o});O(this,"onComponentMount",(n,r)=>{this.instanceManager.add(r.id,n)});O(this,"onComponentDestroy",(n,r)=>{this.instanceManager.remove(r.id)});this.renderRef=z.default.createRef()}rerender(n){var r;return(r=this.renderRef.current)==null?void 0:r.rerender(n)}getInstanceById(n){return this.instanceManager.get(n)}getInstanceByDom(n){const r=ar(n);if(!r)return null;const o=ir(r);return(o==null?void 0:o.stateNode)||null}getDomById(n,r){const o=this.getInstanceById(n),a=fr.findDOMNode(o);return r&&a&&!(a instanceof Text)?Array.from(a.querySelectorAll(r)):[a]}getDomRectById(n,r){return this.getDomById(n,r).map(s=>s==null?void 0:s.getBoundingClientRect()).filter(Boolean)}render(){const{props:n,onGetComponent:r,onComponentDestroy:o,onComponentMount:a}=this;return z.default.createElement(rr,{onGetComponent:r,onComponentMount:a,onComponentDestroy:o,...n,ref:this.renderRef})}}const ar=t=>{if(!t)return null;const e=Object.keys(t).find(n=>n.startsWith("__reactInternalInstance$")||n.startsWith("__reactFiber$"))||"";return e?t[e]:ar(t.parentElement)},ir=t=>{var e;return t?(e=t==null?void 0:t.stateNode)!=null&&e._DESIGN_BOX?t:ir(t.return):null},al=()=>{const t=x.useRef(null);return{ref:t,rerender:function(...e){t.current&&t.current.rerender(...e)},getInstanceById(e){var n;return(n=t.current)==null?void 0:n.getInstanceById(e)},getInstanceByDom(e){var n;return(n=t.current)==null?void 0:n.getInstanceByDom(e)},getDomById(e,n){var r;return((r=t.current)==null?void 0:r.getDomById(e,n))||[]},getDomRectById(e,n){var r;return((r=t.current)==null?void 0:r.getDomRectById(e,n))||[]}}};var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sr={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(il,function(){var n=function(){},r={},o={},a={};function s(l,h){l=l.push?l:[l];var v=[],y=l.length,g=y,j,C,M,P;for(j=function(R,L){L.length&&v.push(R),g--,g||h(v)};y--;){if(C=l[y],M=o[C],M){j(C,M);continue}P=a[C]=a[C]||[],P.push(j)}}function i(l,h){if(!!l){var v=a[l];if(o[l]=h,!!v)for(;v.length;)v[0](l,h),v.splice(0,1)}}function c(l,h){l.call&&(l={success:l}),h.length?(l.error||n)(h):(l.success||n)(l)}function u(l,h,v,y){var g=document,j=v.async,C=(v.numRetries||0)+1,M=v.before||n,P=l.replace(/[\?|#].*$/,""),R=l.replace(/^(css|img)!/,""),L,S;y=y||0,/(^css!|\.css$)/.test(P)?(S=g.createElement("link"),S.rel="stylesheet",S.href=R,L="hideFocus"in S,L&&S.relList&&(L=0,S.rel="preload",S.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(P)?(S=g.createElement("img"),S.src=R):(S=g.createElement("script"),S.src=l,S.async=j===void 0?!0:j),S.onload=S.onerror=S.onbeforeload=function(mt){var bt=mt.type[0];if(L)try{S.sheet.cssText.length||(bt="e")}catch(et){et.code!=18&&(bt="e")}if(bt=="e"){if(y+=1,y<C)return u(l,h,v,y)}else if(S.rel=="preload"&&S.as=="style")return S.rel="stylesheet";h(l,bt,mt.defaultPrevented)},M(l,S)!==!1&&g.head.appendChild(S)}function f(l,h,v){l=l.push?l:[l];var y=l.length,g=y,j=[],C,M;for(C=function(P,R,L){if(R=="e"&&j.push(P),R=="b")if(L)j.push(P);else return;y--,y||h(j)},M=0;M<g;M++)u(l[M],C,v)}function p(l,h,v){var y,g;if(h&&h.trim&&(y=h),g=(y?v:h)||{},y){if(y in r)throw"LoadJS";r[y]=!0}function j(C,M){f(l,function(P){c(g,P),C&&c({success:C,error:M},P),i(y,P)},g)}if(g.returnPromise)return new Promise(j);j()}return p.ready=function(h,v){return s(h,function(y){c(v,y)}),p},p.done=function(h){i(h,[])},p.reset=function(){r={},o={},a={}},p.isDefined=function(h){return h in r},p})})(sr);const Re=sr.exports,cr=t=>!!((t==null?void 0:t.name)&&(t==null?void 0:t.assets));class sl{constructor(e){O(this,"assets");O(this,"loadStatus");O(this,"_onSuccessList",[]);O(this,"_onErrorList",[]);this.assets=e,this.loadStatus="INIT"}load(){const e=this.assets||[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(o.id||(o.id=yt()),n.push(o.id),cr(o)){const a=o.assets.map(s=>s.src);Re(a,o.id)}else Re(o.src,o.id)}return setTimeout(()=>{Re.ready(n,{success:()=>{this._onSuccessList.forEach(r=>r())},error:r=>{this._onErrorList.forEach(o=>o(r))}})},0),this}onSuccess(e){return this._onSuccessList.push(e),this}onError(e){return this._onErrorList.push(e),this}}_.AssetLoader=sl,_.ComponentInstanceManager=or,_.DesignRender=ol,_.ReactAdapter=Zu,_.Render=rr,_.getAdapter=$e,_.isAssetPackage=cr,_.runtimeComponentCache=q,_.useDesignRender=al,_.useRender=rl,Object.defineProperties(_,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.umd.js.map
